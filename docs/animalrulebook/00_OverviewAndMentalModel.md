# Chapter 0 – Overview and Mental Model

This rulebook describes how to build procedural animals in **Zoo** using the same construction pattern as the **ElephantV4.0** files and the shared **bodyPartsV4.0** generators.

The goals:

- Make it possible to build many different animals from a small set of reusable **generators**.
- Keep a clear separation between:
  - **Data** (skeletons, radii, profiles, blueprint JSON).
  - **Geometry logic** (body part generators in `bodyParts`).
  - **Glue code** (per-animal generator and behavior).
  - **Presentation** (the pen and environment).
- Enable both:
  - Hand-authored animals created directly in code.
  - Animals created by **importing and editing blueprint files**, then exporting Zoo source.

## 0.1 Mental model of an animal in Zoo

Every animal in Zoo is ultimately the same kind of object:

1. A **skeleton**: a hierarchy of `THREE.Bone` instances with names and parents.
2. A set of **procedural body parts** driven by that skeleton:
   - Torso, neck, head, limbs, tail, nose, ears, fur.
3. A **generator** class that:
   - Receives a skeleton and some options.
   - Calls body part generators with the right bone chains.
   - Merges the generated meshes into a **single skinned mesh**.
   - Applies a material (skin, fur, armor, etc.).
4. A **creature** class that:
   - Owns both skeleton and mesh.
   - Owns a **behavior** object that animates bones.
5. A **pen** class that:
   - Builds the environment (ground, water, props, lighting).
   - Instantiates the creature.
   - Calls `update(delta)` each frame.

If you keep this stack in mind, every new animal becomes:

- A new skeleton definition.
- A new generator that wires that skeleton into body parts.
- Optional new behaviors and pens.

## 0.2 Data-first design

Two kinds of “animal description” are important:

1. **Code definitions**  
   - `ElephantDefinition.js` and `ElephantGenerator.js` are examples.
   - Authoring method: write JavaScript by hand.

2. **Blueprint files** (covered in Chapter 13)  
   - `AnimalBlueprint.json` style files.
   - Authoring methods:
     - Imported from another tool.
     - Generated by exporting existing animals.
     - Saved by an editor UI inside the Zoo creature studio.

The runtime does not actually care how the description was made. After import or compilation, it always becomes:

- A skeleton (`THREE.Skeleton`).
- A set of parameters for the body part generators.

## 0.3 Body plan categories

Most animals fall into one of four body plans:

1. **Quadruped**  
   - Torso with four legs (elephant, cats, dogs, horses).
2. **Biped**  
   - Torso with two primary legs and optional arms (humans, apes, upright birds).
3. **Winged**  
   - Generally a quadruped or biped plus one or two wing chains (bats, dragons, gryphons).
4. **No-ped**  
   - Continuous bodies with no standard limbs (snakes, eels), or a sliding foot and shell (snails, slugs).

Chapters 6 to 10 explain how to adapt the shared generators to each of these styles.
